# C++面经

- #### C和C++有什么区别
   - C： 面向过程编程

      Cpp： 面向对象编程，具有类、继承、多态、封装等特性

   - C： 不支持函数重载，每个函数名字唯一， 没有 **模版** 概念

      Cpp： 支持函数重载，参数列表不同即可， 有 **模版** 功能，允许用户创建泛型类和函数

   - C： 没有命名空间，所有标识符都是全局命名空间中

      Cpp： 支持命名空间，防止名字冲突

   - C： 使用 `malloc` 和 `free` 等基础函数进行内存管理

      Cpp：提供对象的构造和析构函数，用`delete` 和 `new` 管理内存

- 在C++中调用C函数，应该怎么做？为什么？如果要在C中调用C++又应该怎么做？

&nbsp; &nbsp; &nbsp; 如果在cpp中调用c函数，则需要使用‘ **extern "C"** ’进行**声明**， 防止C++编译器对C函数名进行改编，允许C++代码调用C库

```cpp
extern "C" { void c_function(); }
```
&nbsp; &nbsp; &nbsp; 如果在c中调用cpp，则需要创建一个C兼容的函数来作为包装器

```cpp
extern "C" void cpp_function() { // C++ code }
```

- C++中怎么new一个数组？怎么delete？如果delete没加[]会怎么样？

```cpp
int* myArray = new int[10]; 
delete[] myArray;
myArray = nullptr; 
//如果不将指针设置为nullptr，
//该指针仍然会指向之前的内存地址，
//但那块内存已经被释放，这样的指针称为悬垂指针
```

&nbsp; &nbsp; &nbsp; 如果没有是`delete`没有加`[]`， 会导致崩溃、数据损坏或内存泄漏，这是因为`delete`只是用来释放**单个对象**的内存，而`delete[]`被设计用来**释放数组分配的内存**并且会调用数组中每个对象的**析构函数。**

- C++中的多态是如何实现的？[详细可见面向对象.md](./面向对象.md)

&nbsp; &nbsp; &nbsp; C++中的多态主要通过函数重载、运算符重载、函数覆盖和虚函数来实现。函数重载和运算符重载属于编译时多态，根据参数的不同调用不同的函数。函数覆盖和虚函数则属于运行时多态，允许派生类中的函数覆盖基类中的同名函数，实现不同的功能


